<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // 선택자를 전달받아서 해당 태그를 미리 선택해두고
        // 대상에 대한 각종기능(ex:스타일, 클래스, value 등)을 사용할 수 있는 객체를 생성
        function KHQuery(selector){
            // 제어 대상을 선택해야한다.
            var list = document.querySelectorAll(selector);
            // 선택 대상에 대해 처리할 수 잇는 기능들만 일회용 객체에 담아서 반환
            return{
                color:function(value){
                    for(var i=0; i<list.length; i++){
                        list[i].style.color=value;
                    }
                },
                bgColor:function(value){
                    for(var i=0; i<list.length; i++){
                        list[i].style.backgroundColor = value;
                    }
                }
            };
        }

        window.addEventListener("load", function(){
            //1단계 : khQuery를 불러서 "선택자"를 전달한다.
            //2단계 : 1단계에서 만든 객체의 기능을 사용한다.

            var kh = KHQuery("h1");
            console.log(kh);

            kh.color("red")
            kh.bgColor("yellow")
        });
    </script>
</head>
<body>
    <h1>Hello KHQuery</h1>
    <h1>Hello KHQuery</h1>
    <h1>Hello KHQuery</h1>
    <h1>Hello KHQuery</h1>
    <h1>Hello KHQuery</h1>
</body>
</html>